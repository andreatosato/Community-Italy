@page "/communities"
<div class="mat-layout-grid">
	<div class="mat-layout-grid-inner">
		<div class="mat-layout-grid-cell mat-layout-grid-cell-span-6">
			<MatH6>Lista Community</MatH6>
		</div>
		<div class="mat-layout-grid-cell mat-layout-grid-cell-span-6" style="text-align:right;">
			<MatButton OnClick="Create" Label="Crea community" Icon="@MatIconNames.Create"></MatButton>
		</div>
	</div>
</div>

<MatTable Items="@CommunityViewModels" Striped="true" ShowPaging="false" class="mat-elevation-z5">
	<MatTableHeader>
		<th width="40%">Name</th>
		<th width="25%">WebSite</th>
		<th width="25%">Managers</th>
		<th>Actions</th>
	</MatTableHeader>
	<MatTableRow>
		<td>@context.Name</td>
		<td><MatButton Link="@context.WebSite.ToString()" Icon="@MatIconNames.Web"></MatButton></td>
		<td>@context.Managers?.Count()</td>
		<td>
			<div style="display:block;">
				<MatIconButton OnClick="@(() => Edit(context))">
					<MatIcon>@MatIconNames.Edit</MatIcon>
				</MatIconButton>

				<MatIconButton OnClick="@(() => Delete(context.ShortName))">
					<MatIcon>@MatIconNames.Delete</MatIcon>
				</MatIconButton>
			</div>
		</td>
	</MatTableRow>
</MatTable>
<div>
	<MatPaginator Length="@Total" PageSize="@PageSize" Page="@OnPage"></MatPaginator>
</div>